"""
SETUP INSTRUCTION GUIDE - Sentinel SOC Bot Quick Start
======================================================

BOT NAME: Sentinel ğŸ›¡ï¸
TYPE: Security Operations Center (SOC) Bot
PURPOSE: Comprehensive security threat detection and incident response automation

## STEP 1: RUN THE SETUP COMMAND

Admin User in Server:
    !setup_soc

This creates EVERYTHING automatically:

### ROLES CREATED (7 total):

1. ğŸ›¡ï¸ **Sentinel Admin**
   - Color: Red
   - Permissions: FULL ADMIN (manage roles, ban, kick, manage messages, audit logs)
   - For: SOC Leadership

2. ğŸ¯ **Incident Commander**
   - Color: Orange  
   - Permissions: Manage channels, mention everyone, manage messages, audit logs
   - For: Incident response leaders

3. ğŸ” **Security Analyst**
   - Color: Blue
   - Permissions: Read/write, manage messages, view audit logs
   - For: Threat investigators

4. ğŸ›¡ï¸ **Defender**
   - Color: Green
   - Permissions: Read/write, manage messages
   - For: Incident response responders

5. ğŸ‘ï¸ **Monitor**
   - Color: Gold
   - Permissions: Read/write/view history
   - For: Metrics and alert monitoring

6. ğŸ“Š **Analyst**
   - Color: Blurple
   - Permissions: Read/write/view history
   - For: Data and threat analysis

7. ğŸ” **Compliance Officer**
   - Color: Purple
   - Permissions: Read/write, view audit logs
   - For: Compliance and governance

### CHANNELS CREATED (11 total):

All created in: **ğŸ”’ Sentinel SOC** category

1. ğŸ’¬ **#soc-command-center** - Incident coordination hub
2. ğŸ“¡ **#threat-intelligence** - Threat feeds and IOC tracking
3. ğŸš¨ **#incident-alerts** - Critical security incidents
4. ğŸ” **#threat-hunting** - Proactive hunting campaigns
5. ğŸ”§ **#vulnerability-management** - Vuln tracking and SLA
6. ğŸ“‹ **#compliance-tracking** - Framework compliance status
7. ğŸ“Š **#security-metrics** - Real-time KPI dashboards
8. ğŸ›¡ï¸ **#incident-response** - General IR discussion
9. âœ… **#false-positives** - FP triage and tuning
10. ğŸ“œ **#audit-logs** - Security log analysis
11. ğŸ”Š **#soc-voice** - Voice calls for incidents

## STEP 2: ASSIGN ROLES TO TEAM

Manually assign roles based on job function:
- Admins â†’ ğŸ›¡ï¸ Sentinel Admin role
- Team Leads â†’ ğŸ¯ Incident Commander role
- Investigators â†’ ğŸ” Security Analyst role
- Responders â†’ ğŸ›¡ï¸ Defender role
- Monitoring â†’ ğŸ‘ï¸ Monitor role
- Data Team â†’ ğŸ“Š Analyst role
- Compliance â†’ ğŸ” Compliance Officer role

## STEP 3: START USING COMMANDS

### User Commands (Everyone):
```
!helpme                  - Get command help
!welcome_dm              - See bot capabilities
!botstatus               - Check bot health
!commands                - List all commands
!docs [category]         - Get documentation
!quicktest               - Run diagnostics
!sysinfo                 - System info
```

### Admin Commands (Admins only):
```
!setup_soc                        - Setup infrastructure (Run once!)
!listroles_sentinel               - List all SOC roles
!listchannels_sentinel            - List all SOC channels
!dm_user <id> <message>           - Send DM to user
!alert_user <id> <message>        - Queue alert DM
!notify_user <id> <message>       - Queue notification DM
!broadcast_dm <message>           - Send DM to all members
```

### Security Commands (In channels):
```
!security                - Security operations
!antinuke                - Anti-nuke protection
!anti_phishing           - Phishing detection
!security_dashboard      - Live security metrics
!executive_risk_dashboard- Executive reporting
!threatintel             - Threat intelligence
!analyzethreatscape      - Threat landscape
!quantified_risk_dashboard- Financial risk metrics
```

## STEP 4: CONFIGURE CHANNEL PERMISSIONS (Optional)

After setup, you can further restrict channels:
- ğŸ“¡ threat-intelligence: Read-only for Monitor role
- ğŸš¨ incident-alerts: Mention-only channel
- ğŸ“œ audit-logs: View-only for Compliance Officer
- ğŸ”’ soc-voice: Voice-only channel

## DM NOTIFICATION SYSTEM

The bot can send Direct Messages to users:

### Automatic DMs:
- New member joins â†’ Automatic welcome DM
- Every new member gets introduction

### Admin-Triggered DMs:

1. **Immediate DM:**
   ```
   !dm_user 123456789 "Important security update"
   ```

2. **Alert DM (Queued):**
   ```
   !alert_user 123456789 "Potential breach detected"
   ```

3. **Notify DM (Queued):**
   ```
   !notify_user 123456789 "New policy deployed"
   ```

4. **Broadcast to All:**
   ```
   !broadcast_dm "Security meeting in 1 hour"
   ```

## BOT NAME & DESCRIPTION

**Name:** Sentinel ğŸ›¡ï¸
**Tags:** Security, SOC, Threat Detection, Incident Response
**Description:** Advanced Discord SOC with 60+ specialized security AI modules

The bot automatically creates roles and channels matching its SOC purpose.

## DATA STORAGE

All data stored locally:
```
/data/
  â”œâ”€â”€ server_setups.json       - Guild setup config
  â”œâ”€â”€ dm_queue.json            - Pending DM messages
  â”œâ”€â”€ dm_log.json              - DM send history
  â””â”€â”€ [other SOC data files]
```

## QUICK TROUBLESHOOTING

**Problem: "Unknown command" for !helpme**
- Solution: Run bot with proper DISCORD_TOKEN in .env
- Solution: Make sure dm_command_handler cog is loaded

**Problem: Setup fails with permission error**
- Solution: Make sure bot has admin permissions
- Solution: Make sure the user has admin permissions

**Problem: DMs not arriving**
- Solution: User may have DMs disabled
- Solution: Check data/dm_log.json for status
- Solution: Use !broadcast_dm to see which users failed

**Problem: Channels not created**
- Solution: Bot needs Manage Channels permission
- Solution: Check server channel limit not reached
- Solution: Category may already exist (it will reuse)

## WHAT'S INCLUDED

âœ… 7 Security-focused roles with proper permissions
âœ… 11 SOC operation channels organized by function
âœ… Automatic welcome DMs for new members
âœ… Admin broadcast DM system
âœ… Queued DM processor (automatic, every minute)
âœ… Complete help and documentation system
âœ… Health check and diagnostic commands
âœ… 60+ security operations commands
âœ… Per-guild data isolation
âœ… Threat intelligence integration
âœ… Compliance tracking
âœ… Incident response automation

## NEXT STEPS

1. âœ… Server owner: Run `!setup_soc`
2. âœ… Assign roles to team members
3. âœ… Configure channel permissions as needed
4. âœ… Team members: Run `!helpme` to learn commands
5. âœ… Start using security commands in channels

## SUPPORT

- Type `!helpme` for command help
- Type `!docs` for detailed documentation
- Type `!commands` to list all available commands
- DM the bot for quick reference

---
Created: 2024 | Sentinel SOC v10
